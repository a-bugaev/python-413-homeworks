{% extends "base.html" %}

{% comment %} templates/landing.html {% endcomment %}

{% load static %}
{% load related_filter %}
{% load time_filters %}
{% load rating_filter %}

{% block styles %}
  <link rel="stylesheet" href="{% static 'css/landing.css' %}">
{% endblock styles %}

{% block title %}
  BARBER'S HUB
{% endblock title %}

{% block content %}
  {% comment %} Hero Section {% endcomment %}

  <section class="hero-section text-center" id="hero">
    <div class="container">
      <img src="media/{{ interior_pic }}"
           alt="Hero Image"
           class="hero-background-img"
           width="100%"
           height="100%">
      <h1>Профессиональные стрижки для мужской аудитории</h1>
      <p class="lead">Ваш стиль. Ваш образ. Наша экспертиза.</p>
      <a href="{% url 'landing' %}#contact" class="btn btn-primary btn-lg">Записаться на стрижку</a>
    </div>
  </section>
  {% comment %} Services Section {% endcomment %}

  <section id="services" class="py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-4">Наши услуги</h2>
        <p class="lead text-muted">
          Предлагаем широкий спектр профессиональных услуг для мужской красоты
        </p>
      </div>
      <div class="row g-4">
        {% for service in services %}
          <div class="col-md-6 col-lg-4">
            <div class="card service-card h-100">
              <div class="card-body text-center p-4">
                <div class="image mb-3 mx-auto">
                  <img src="media/{{ service.image }}"
                       alt="{{ service.name }}"
                       height="auto"
                       width="100%">
                </div>
                <h5 class="card-title">{{ service.name }}</h5>
                <p class="card-text">{{ service.description }}</p>
                <p class="fw-bold text-primary">{{ service.price }} &#x20BD;</p>
                <a href="{% url 'landing' %}#contact" class="btn btn-learn-more mt-3">Записаться</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  {% comment %} Masters Section {% endcomment %}

  <section id="masters" class="py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-4">Наши мастера</h2>
        <p class="lead text-muted">
          Профессиональные барберы с многолетним опытом работы
        </p>
      </div>
      <div class="row g-4">
        {% for master in masters %}
          <div class="col-md-6 col-lg-4">
            <div class="card master-card h-100">
              <img src="media/{{ master.photo }}"
                   class="card-img-top square-image"
                   alt="{{ master.name }} фото"
                   width="100%"
                   height="auto">
              <div class="card-body text-center">
                <h5 class="card-title master-name">{{ master.name }}</h5>
                <p class="card-text master-title">
                  Опыт работы: {{ master.experience|get_year_form }}
                </p>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  {% comment %} About Section {% endcomment %}

  <section id="about" class="py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <img src="media/{{ interior_pic }}"
               alt="Barber shop interior"
               class="img-fluid rounded shadow"
               width="auto"
               height="auto">
        </div>
        <div class="col-lg-6">
          <h2 class="display-4 mb-4">О Barber's Hub</h2>
          <p class="lead mb-4">
            Мы команда профессиональных барберов с многолетним опытом работы, которые увлечены искусством
            создания стильной мужской прически.
          </p>
          <p class="mb-4">
            Наш барбершоп создан с учетом всех потребностей мужчи, стремящейся выглядеть стильно и уверенно.
            Мы предлагаем:
          </p>
          <ul>
            <li>Использование только высококачественных инструментов и средств</li>
            <li>Индивидуальный подход к каждому клиенту</li>
            <li>Современное оборудование для комфортной стрижки</li>
            <li>Огромный выбор стилей и технологий стрижки</li>
          </ul>
          <a href="{% url 'landing' %}#contact" class="btn btn-learn-more mt-3">Узнать больше</a>
        </div>
      </div>
    </div>
  </section>
  {% comment %} Testimonials Section {% endcomment %}

  <section id="testimonials" class="py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-4">Отзывы клиентов</h2>
        <p class="lead text-muted">Наши клиенты говорят о нас</p>
      </div>
      <div class="row g-4 d-flex flex-wrap">
        {% for review in reviews %}
          <div class="col-xl-4">
            <div class="card testimonial-card h-100 text-center">
              <div class="card-body text-center px-0">
                <div class="quote-icon mb-3">
                  <i class="bi bi-quote"></i>
                </div>
                <p class="card-text">{{ review.text }}</p>
                <div class="d-flex flex-row h-50 justify-content-center align-items-center mt-4">
                  <span class="client-avatar">{{ review.client_name|first|upper }}</span>
                  <div class="px-3 text-start">
                    <h5 class="mb-0">{{ review.client_name }}</h5>
                    {% for service in review.services_were_provided|get_all %}
                      <small class="text-muted">{{ service.name }}</small>
                      <br>
                    {% endfor %}
                    <div class="rating mt-2">
                      {% for bool in review.rating|get_bool_list_from:5 %}
                        {% if bool %}
                          <i class="bi bi-star-fill"></i>
                        {% else %}
                          <i class="bi bi-star"></i>
                        {% endif %}
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  {% comment %} Contact Section {% endcomment %}

  <section id="contact" class="py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-4">Оставить заявку</h2>
        <p class="lead text-muted">Запишитесь прямо сейчас!</p>
      </div>
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
          <div class="card shadow">
            <div class="card-body p-4">

              {% include "forms/create_order.html" with form=order_form masters_services_json=masters_services_json %}

            </div>
          </div>
        </div>
      </div>
      <div class="row mt-5">
        <div class="col-lg-6 h-lg-100 my-3 mb-4 mb-md-0">
          <div class="card shadow h-100">
            <div class="card-body p-4 h-100">
              <h4 class="mb-3">Наш адрес</h4>
              <p class="mb-1">ул. Торговая, 123</p>
              <p class="mb-1">Бишкек, Кыргызстан</p>
              <h4 class="mb-3 mt-4">Часы работы</h4>
              <p class="mb-1">Пн-Пт: 10:00 - 22:00</p>
              <p class="mb-1">Сб-Вс: 11:00 - 20:00</p>
              <h4 class="mb-3 mt-4">Телефон</h4>
              <p class="mb-1">+996 99 123 4567</p>
              <h4 class="mb-3 mt-4">Email</h4>
              <p class="mb-1">info@barbershub.kg</p>
            </div>
          </div>
        </div>
        <div class="col-lg-6 h-lg-100 my-3 mb-4 mb-md-0">
          <div class="card shadow h-100">
            <div class="card-body p-4 h-100">
              <h4 class="mb-3">Наше расположение</h4>
              <div class="map mb-4">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2924.046858636989!2d74.59831527656492!3d42.87185510261394!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x389eb7f083356b53%3A0xca6368f65146c8b5!2sBLACKROCK%20barbershop!5e0!3m2!1snl!2snl!4v1753526812312!5m2!1snl!2snl"
                        width="100%"
                        height="250"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
              </div>
              <div class="mb-3 my-3">
                <h5 class="mb-2">Подпишитесь на наши соцсети</h5>
                <div class="d-flex gap-2 justify-content-center my-3">
                  <a href="{% url 'landing' %}#hero" class="btn btn-outline-primary"><i class="bi bi-facebook me-1"></i>Facebook</a>
                  <a href="{% url 'landing' %}#hero" class="btn btn-outline-primary"><i class="bi bi-instagram me-1"></i>Instagram</a>
                  <a href="{% url 'landing' %}#hero" class="btn btn-outline-primary"><i class="bi bi-telegram me-1"></i>Telegram</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock content %}
