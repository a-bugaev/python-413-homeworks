---
project: "[[–ê–∫–∞–¥–µ–º–∏—è TOP]]"
journal: "[[PYTHON413]]"
tags:
  - PYTHON413
date: 2025-03-29
type:
  - home work
hw_num: 29
topic: –í –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –∑–∞–¥–∞–Ω–∏—è –≤—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –¥–∞—Ç–∞–∫–ª–∞—Å—Å¬†`City` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è–º–∏, –∞ —Ç–∞–∫–∂–µ –∫–ª–∞—Å—Å¬†`CitiesSerializer` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON –≤ –æ–±—ä–µ–∫—Ç—ã¬†`City`. –í —ç—Ç–æ–π –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å–∞–º–æ–π –∏–≥—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –µ—ë –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –ó–∞–¥–∞—á–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã¬†`CityGame` –∏ `GameManager`, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏ —è–≤–ª—è—é—Ç—Å—è —Ç–æ—á–∫–∞–º–∏ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.
hw_theme:
  - –û–û–ü
  - python
  - JSON
  - Dataclasses
  - –ì–æ—Ä–æ–¥–∞
st_group: python 413
links:
  - "[[PYTHON412 HW ‚Ññ31]]"
  - "[[PYTHON413 HW ‚Ññ28]]"
---
# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ üìÉ  
**–ò–≥—Ä–∞ "–ì–æ—Ä–æ–¥–∞" –Ω–∞ –û–û–ü. –ß–∞—Å—Ç—å ‚Ññ2**

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ  
–í –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –∑–∞–¥–∞–Ω–∏—è ([[PYTHON413 HW ‚Ññ28]]) –≤—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –¥–∞—Ç–∞–∫–ª–∞—Å—Å¬†`City` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è–º–∏, –∞ —Ç–∞–∫–∂–µ –∫–ª–∞—Å—Å¬†`CitiesSerializer` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON –≤ –æ–±—ä–µ–∫—Ç—ã¬†`City`. –í —ç—Ç–æ–π –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å–∞–º–æ–π –∏–≥—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –µ—ë –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –ó–∞–¥–∞—á–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã¬†`CityGame` –∏ `GameManager`, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏ —è–≤–ª—è—é—Ç—Å—è —Ç–æ—á–∫–∞–º–∏ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: ü¶æ
- Python
- –û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–û–û–ü)
- Dataclasses
- JSON
- –ü–∞—Ç—Ç–µ—Ä–Ω –§–∞—Å–∞–¥

## –ó–∞–¥–∞–Ω–∏–µ üë∑‚Äç‚ôÇÔ∏è

### 1. –ö—Ä–∞—Ç–∫–æ –æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —á–∞—Å—Ç–∏  
–í –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –∑–∞–¥–∞–Ω–∏—è –≤—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏:
- **`City`** ‚Äì –¥–∞—Ç–∞–∫–ª–∞—Å—Å –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–ø—É—Å—Ç–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ –ø–æ–ª—é population.
- **`CitiesSerializer`** ‚Äì –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö (—Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π –∏–∑ JSON) —Å–æ–∑–¥–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤¬†City –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥¬†`get_all_cities()`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã.

>[!info]
>#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏
>- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–∞—Ç–∞–∫–ª–∞—Å—Å `City`.
>- –°–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω `CitiesSerializer` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è JSON-–¥–∞–Ω–Ω—ã—Ö.

### 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ `CityGame`  
–ö–ª–∞—Å—Å¬†`CityGame` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É. –û–Ω –¥–æ–ª–∂–µ–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã ¬´–ì–æ—Ä–æ–¥–∞¬ª –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞:**  
  –ú–µ—Ç–æ–¥, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞, –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –≤–≤–µ–¥–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥:
  - –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç—Ä–µ–±—É–µ–º–æ–π –±—É–∫–≤—ã (–µ—Å–ª–∏ –∏–≥—Ä—É –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ö–æ–¥).
  - –ù–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ä–∞–Ω–µ–µ (–¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ¬†City –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤).
  - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ (—Å–ø–∏—Å–∫–µ, –ø–æ–ª—É—á–∞–µ–º–æ–º —á–µ—Ä–µ–∑¬†CitiesSerializer).
- **–•–æ–¥ –∏–≥—Ä–æ–∫–∞ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:**  
  –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
  - `human_turn(city_input: str) -> bool` ‚Äì –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ–º–µ—á–∞–µ—Ç –≥–æ—Ä–æ–¥ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç –µ–≥–æ). –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—è –æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Ö–æ–¥–µ –∏–ª–∏ –æ—à–∏–±–∫–µ.
  - `computer_turn() -> str` ‚Äì –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≥–æ—Ä–æ–¥ –¥–ª—è —Ö–æ–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (–≥–æ—Ä–æ–¥, –Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –±—É–∫–≤—É –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ö–æ–¥–∞ –∏–≥—Ä–æ–∫–∞). –ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–∞–π–¥–µ–Ω, —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã.
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞:**  
  –í –º–µ—Ç–æ–¥–µ `start_game()` –Ω—É–∂–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º:
  - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä—É –¥–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Ö–æ–¥.
  - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —É—Å–ª–æ–≤–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∏ –∏–≥—Ä–æ–∫, –Ω–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –Ω–µ –º–æ–≥—É—Ç –Ω–∞–∑–≤–∞—Ç—å –Ω–æ–≤—ã–π –≥–æ—Ä–æ–¥).
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã:**  
  –ú–µ—Ç–æ–¥ `check_game_over() -> bool` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—É–¥–∏—Ç –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –≥–æ—Ä–æ–¥–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –∫—Ç–æ-–ª–∏–±–æ —Å–æ–≤–µ—Ä—à–∏—Ç—å —Ö–æ–¥. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äì –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—å.

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `save_game_state() -> None`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –≤ JSON-—Ñ–∞–π–ª –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

>[!info]
>#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ CityGame
>- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±—É–∫–≤—ã –Ω–∞—á–∞–ª–∞ –Ω–∞–∑–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≥–æ—Ä–æ–¥–∞).
>- –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ö–æ–¥–µ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã (–ø–æ–º–µ—á–∞–π—Ç–µ –≥–æ—Ä–æ–¥ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –∏–ª–∏ —É–¥–∞–ª—è–π—Ç–µ –µ–≥–æ).
>- –ï—Å–ª–∏ –≤–≤–µ–¥–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è–º –∏–≥—Ä—ã ‚Äì –≤—ã–≤–æ–¥–∏—Ç–µ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏ –∑–∞–≤–µ—Ä—à–∞–π—Ç–µ –∏–≥—Ä—É.
>- –û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–¥–∏–Ω –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è —Ö–æ–¥–∞.

### 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –∫–ª–∞—Å—Å–∞ `GameManager` (–§–∞—Å–∞–¥)  
–ö–ª–∞—Å—Å¬†`GameManager` —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞—Å–∞–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏–≥—Ä—ã:
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**  
  - `json_file`: –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É —Å JSON-–¥–∞–Ω–Ω—ã–º–∏ (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã). –ö–ª–∞—Å—Å –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
  - `cities_serializer`: —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤¬†`City`, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ JSON.
  - `city_game`: —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–≥—Ä—É, —É–ø—Ä–∞–≤–ª—è—è —Ö–æ–¥–∞–º–∏ –∏–≥—Ä–æ–∫–∞ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.
- **–ú–µ—Ç–æ–¥—ã —Ñ–∞—Å–∞–¥–∞:**  
  - `__call__()`: –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞ GameManager –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å. –í–Ω—É—Ç—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º —á–µ—Ä–µ–¥—É—é—Ç—Å—è —Ö–æ–¥—ã –∏–≥—Ä–æ–∫–∞ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –¥–æ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è —É—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã.
  - `run_game()`: –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞, —Ö–æ–¥–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã.
  - `display_game_result()`: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã –≤—ã–≤–æ–¥–∏—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å—ã–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ñ–∞—Å–∞–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∏–≥—Ä—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º: –≤—ã–∑–æ–≤–∏—Ç–µ `GameManager`, –∏ –∏–≥—Ä–∞ –Ω–∞—á–Ω–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.

>[!info]
>#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ GameManager
>- –û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∏–º —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã (json_file, cities_serializer, city_game).
>- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `__call__()` –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∑–∞–ø—É—Å–∫–∞: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –∏ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é.
>- –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –∏–≥—Ä–æ–∫–∞ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–≥—Ä—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—É—â–∏–π —Ö–æ–¥, –æ—à–∏–±–∫–∏ —Ö–æ–¥–∞, –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç).

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã

```python
if __name__ == "__main__":
    json_file = JsonFile("data.json")
    cities_data = json_file.read_data()             # –î–∞–Ω–Ω—ã–µ, –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏
    cities_serializer = CitiesSerializer(cities_data) # –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ City
    city_game = CityGame(cities_serializer)           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∏–≥—Ä—ã
    game_manager = GameManager(json_file, cities_serializer, city_game)
    game_manager()                                    # –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
```

## –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤

| –ö–ª–∞—Å—Å           | –ú–µ—Ç–æ–¥—ã/–ê—Ç—Ä–∏–±—É—Ç—ã                         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                         |
| --------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------ |
| CityGame        | `__init__(self, cities: CitiesSerializer)` | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ (—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ City).                                 |
|                 | `start_game()`                          | –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª, –Ω–∞—á–∏–Ω–∞—è —Å –ø–µ—Ä–≤–æ–≥–æ —Ö–æ–¥–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è) –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.                     |
|                 | `human_turn(city_input: str) -> bool`     | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ö–æ–¥ —á–µ–ª–æ–≤–µ–∫–∞: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.      |
|                 | `computer_turn() -> str`                | –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≥–æ—Ä–æ–¥ –¥–ª—è —Ö–æ–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã.                         |
|                 | `check_game_over() -> bool`             | –ü—Ä–æ–≤–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã.                          |
|                 | `save_game_state() -> None` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –≤ JSON –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.                        |
| GameManager     | `__call__()`                            | –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É, –æ—Ä–≥–∞–Ω–∏–∑—É—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö–æ–¥–æ–≤ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã.                         |
|                 | `run_game()`                            | –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö–æ–¥–æ–≤. |
|                 | `display_game_result()` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)     | –í—ã–≤–æ–¥–∏—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é.                                                   |

---

>[!warning]
>#### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ üëå
>- –í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –∑–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –∫–ª–∞—Å—Å—ã `City` –∏ `CitiesSerializer`.
>- –õ–æ–≥–∏–∫–∞ –≤ –∫–ª–∞—Å—Å–µ `CityGame` –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤, –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å –∏–≥—Ä—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
>- –ö–ª–∞—Å—Å `GameManager` –¥–æ–ª–∂–µ–Ω –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è: —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª –∏ –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
>- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PEP-8, —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∏ docstring –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞.
>- –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π `if __name__ == "__main__"`.

–£—Å–ø–µ—Ö–æ–≤ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∏–≥—Ä—ã ¬´–ì–æ—Ä–æ–¥–∞¬ª!